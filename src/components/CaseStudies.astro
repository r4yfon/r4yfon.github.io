---
// filepath: src/content/CaseStudies.astro
import { getCollection } from "astro:content";
const caseStudies = await getCollection("case-studies");
if (!caseStudies || caseStudies.length === 0) {
  throw new Error(
    "No case studies found. Please add some to the 'case-studies' collection.",
  );
}
---

<section class="container mx-auto my-12">
  <h2 class="text-3xl font-bold mb-6">UI/UX Case Studies</h2>
  <div class="grid grid-cols-2 md:grid-cols-4 gap-6 auto-rows-[200px]">
    {
      caseStudies.map((cs, i) => (
        <div
          class={`p-6 rounded-xl shadow bg-gray-100 dark:bg-gray-800
          ${i === 0 ? "col-span-2 row-span-2" : ""}
          ${i === 1 ? "col-span-2" : ""}
          ${i > 1 ? "col-span-1" : ""}`}
          key={cs.id}>
          <h3 class="text-xl font-semibold">{cs.data.title}</h3>
          <p class="mt-2 text-gray-700 dark:text-gray-200">{cs.data.summary}</p>
          <a
            href={`/case-studies/${cs.data.slug}`}
            class="text-blue-600 hover:underline mt-2 block">
            Read More
          </a>
        </div>
      ))
    }
  </div>
</section>
